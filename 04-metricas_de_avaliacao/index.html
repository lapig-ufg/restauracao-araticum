<!doctype html><html lang=pt class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A Articulação pela Restauração do Cerrado é uma rede colaborativa e multisetorial, que visa atuar como uma coalizão cujo objetivo é promover a restauração em larga escala do Bioma."><meta name=author content="Luiz Pascoal, Renato Gomes Silvério e Tharles de Sousa Andrade"><link href=https://araticum.lapig.iesa.ufg.br/04-metricas_de_avaliacao/ rel=canonical><link rel=icon href=../imgs/logos/favicon.ico><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.3.9"><title>Métricas de Avaliação - Plataforma da Rede de Articulação pela Restauração do Cerrado</title><link rel=stylesheet href=../assets/stylesheets/main.1d29e8d0.min.css><link rel=stylesheet href=../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=blue-grey> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#metricas-de-avaliacao class=md-skip> Ir para o conteúdo </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabeçalho> <a href=.. title="Plataforma da Rede de Articulação pela Restauração do Cerrado" class="md-header__button md-logo" aria-label="Plataforma da Rede de Articulação pela Restauração do Cerrado" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Plataforma da Rede de Articulação pela Restauração do Cerrado </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Métricas de Avaliação </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=blue-grey aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Buscar placeholder=Buscar autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Pesquisar> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Compartilhar data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Limpar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando a pesquisa </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/lapig-ufg/restauracao-araticum title="Ir ao repositório" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> lapig-ufg/restauracao-araticum </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Abas data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> HOME </a> </li> <li class=md-tabs__item> <a href=../01-guia_dados_geograficos/ class=md-tabs__link> Guia do usuário </a> </li> <li class=md-tabs__item> <a href=../03-dad_vetoriais/ class=md-tabs__link> Dados </a> </li> <li class=md-tabs__item> <a href=../02-arq_geral/ class=md-tabs__link> Arquitetura de Software </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> Métricas de Avaliação </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navegação data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Plataforma da Rede de Articulação pela Restauração do Cerrado" class="md-nav__button md-logo" aria-label="Plataforma da Rede de Articulação pela Restauração do Cerrado" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> Plataforma da Rede de Articulação pela Restauração do Cerrado </label> <div class=md-nav__source> <a href=https://github.com/lapig-ufg/restauracao-araticum title="Ir ao repositório" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> lapig-ufg/restauracao-araticum </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> HOME </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Guia do usuário <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Guia do usuário" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Guia do usuário </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../01-guia_dados_geograficos/ class=md-nav__link> Dados Geográficos </a> </li> <li class=md-nav__item> <a href=../01-guia_metricas_de_qualidade/ class=md-nav__link> Métricas de Qualidade </a> </li> <li class=md-nav__item> <a href=../01-guia_funcionalidades/ class=md-nav__link> Funcionalidades </a> </li> <li class=md-nav__item> <a href=../01-guia_relatorios/ class=md-nav__link> Relatórios </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Dados <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Dados data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Dados </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../03-dad_vetoriais/ class=md-nav__link> Vetoriais </a> </li> <li class=md-nav__item> <a href=../03-dad_rasters/ class=md-nav__link> Rasters </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Arquitetura de Software <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Arquitetura de Software" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Arquitetura de Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../02-arq_geral/ class=md-nav__link> Visão geral </a> </li> <li class=md-nav__item> <a href=../02-arq_servidor_de_mapas/ class=md-nav__link> Servidor de mapas </a> </li> <li class=md-nav__item> <a href=../02-arq_servidor_de_aplicacao/ class=md-nav__link> Servidor de aplicação </a> </li> <li class=md-nav__item> <a href=../02-arq_execucao_dpat/ class=md-nav__link> Deployment da arquitetura do Cerrado DPAT </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Métricas de Avaliação <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Métricas de Avaliação </a> <nav class="md-nav md-nav--secondary" aria-label=Índice> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Índice </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#dados-de-campos class=md-nav__link> Dados de campos </a> <nav class=md-nav aria-label="Dados de campos"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#realizacao-das-atividades-de-campo class=md-nav__link> Realização das atividades de campo </a> </li> <li class=md-nav__item> <a href=#processo-de-atualizacao class=md-nav__link> Processo de atualização </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dados-de-validacao-amostral class=md-nav__link> Dados de validação amostral </a> <nav class=md-nav aria-label="Dados de validação amostral"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sorteio-de-novos-pontos class=md-nav__link> Sorteio de novos pontos </a> </li> <li class=md-nav__item> <a href=#inspecao-no-tvi class=md-nav__link> Inspeção no TVI </a> </li> <li class=md-nav__item> <a href=#processo-de-atualizacao_1 class=md-nav__link> Processo de atualização </a> </li> <li class=md-nav__item> <a href=#calculo-de-acuracia class=md-nav__link> Cálculo de acurácia </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#analise-automatica class=md-nav__link> Análise automática </a> <nav class=md-nav aria-label="Análise automática"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#execucao-do-bfast-monitor class=md-nav__link> Execução do BFast-Monitor </a> <nav class=md-nav aria-label="Execução do BFast-Monitor"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#criacao-do-shapefile-com-os-pixels-modis class=md-nav__link> Criação do Shapefile com os Pixels MODIS </a> </li> <li class=md-nav__item> <a href=#execucao-do-mdc-e-criacao-da-serie-modis class=md-nav__link> Execução do MDC e criação da série MODIS </a> </li> <li class=md-nav__item> <a href=#execucao-dos-scripts-de-atualizacao-do-bfast class=md-nav__link> Execução dos scripts de atualização do Bfast </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#susceptibilidade-ao-desmatamento class=md-nav__link> Susceptibilidade ao desmatamento </a> <nav class=md-nav aria-label="Susceptibilidade ao desmatamento"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#construcao-das-superficies class=md-nav__link> Construção das superfícies </a> </li> <li class=md-nav__item> <a href=#cruzamento-com-suceptibilidade class=md-nav__link> Cruzamento com suceptibilidade </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#calculo-da-metrica-de-qualificacao class=md-nav__link> Cálculo da métrica de qualificação </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=Índice> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Índice </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#dados-de-campos class=md-nav__link> Dados de campos </a> <nav class=md-nav aria-label="Dados de campos"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#realizacao-das-atividades-de-campo class=md-nav__link> Realização das atividades de campo </a> </li> <li class=md-nav__item> <a href=#processo-de-atualizacao class=md-nav__link> Processo de atualização </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dados-de-validacao-amostral class=md-nav__link> Dados de validação amostral </a> <nav class=md-nav aria-label="Dados de validação amostral"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sorteio-de-novos-pontos class=md-nav__link> Sorteio de novos pontos </a> </li> <li class=md-nav__item> <a href=#inspecao-no-tvi class=md-nav__link> Inspeção no TVI </a> </li> <li class=md-nav__item> <a href=#processo-de-atualizacao_1 class=md-nav__link> Processo de atualização </a> </li> <li class=md-nav__item> <a href=#calculo-de-acuracia class=md-nav__link> Cálculo de acurácia </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#analise-automatica class=md-nav__link> Análise automática </a> <nav class=md-nav aria-label="Análise automática"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#execucao-do-bfast-monitor class=md-nav__link> Execução do BFast-Monitor </a> <nav class=md-nav aria-label="Execução do BFast-Monitor"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#criacao-do-shapefile-com-os-pixels-modis class=md-nav__link> Criação do Shapefile com os Pixels MODIS </a> </li> <li class=md-nav__item> <a href=#execucao-do-mdc-e-criacao-da-serie-modis class=md-nav__link> Execução do MDC e criação da série MODIS </a> </li> <li class=md-nav__item> <a href=#execucao-dos-scripts-de-atualizacao-do-bfast class=md-nav__link> Execução dos scripts de atualização do Bfast </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#susceptibilidade-ao-desmatamento class=md-nav__link> Susceptibilidade ao desmatamento </a> <nav class=md-nav aria-label="Susceptibilidade ao desmatamento"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#construcao-das-superficies class=md-nav__link> Construção das superfícies </a> </li> <li class=md-nav__item> <a href=#cruzamento-com-suceptibilidade class=md-nav__link> Cruzamento com suceptibilidade </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#calculo-da-metrica-de-qualificacao class=md-nav__link> Cálculo da métrica de qualificação </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/lapig-ufg/restauracao-araticum/edit/master/docs/04-metricas_de_avaliacao.md title="Editar esta página" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=metricas-de-avaliacao>Métricas de avaliação<a class=headerlink href=#metricas-de-avaliacao title="Permanent link">&para;</a></h1> <h2 id=dados-de-campos>Dados de campos<a class=headerlink href=#dados-de-campos title="Permanent link">&para;</a></h2> <h3 id=realizacao-das-atividades-de-campo>Realização das atividades de campo<a class=headerlink href=#realizacao-das-atividades-de-campo title="Permanent link">&para;</a></h3> <p>Com o objetivo de avaliar os desmatamentos detectados pelos sistemas PRODES-Cerrado e DETER-Cerrado foram realizadas quatro atividades de campo, priorizando visitas às regiões com maior quantidade de detecções. A elaboração dos trajetos também contemplou a ocorrência de desmatamentos em diferentes fitofisionomias, tipos de solo, clima, relevo, arranjos socioeconômicos e produtivos. Buscou-se também por uma logistica que contemplasse a otimização tempo e com o pernoite em cidades com infraestrutura adequada para a situação (hotéis, restaurantes e sinal de internet). Destaca-se também que, apesar do fator limitante relativo a distribuição de rodovias, buscou-se pelo equilibrio do percurso em estradas "principais" (rodovias estaduais e federais) e vicinais (estradas municipais e acessos a fazendas).</p> <p><img alt="Roteiro dos campos realizados no âmbito do projeto FIP Monitoramento" src=../imgs/04/campos_realizados.png title="Roteiro dos campos realizados no âmbito do projeto FIP Monitoramento"></p> <p>A definição do trecho a ser percorrido em cada dia se baseou em uma distância média percorrida de ~400 km durante um período de 10 horas (8h às 18h). A quantidade de áreas visitadas levou em consideração o tempo médio gasto em cada parada, sendo ~10 minutos em áreas sem sobrevôo de drone e ~20min em áreas com sobrevôo de drone. </p> <p>A escolha das áreas com sobrevôo de drone se baseou na análise de mapas e imagens de satélite. Foi escolhido um número mínimo de 4 sobrevôos de drone em cada trecho. Essa seleção considerou critérios como: dificuldade de detecção (áreas campestres, áreas com elevada quantidade de pastos em estágio de degradação agronômica, áreas com queimadas recorrentes e áreas com alta resposta espectral aos efeitos da sazonalidade climática), tamanhos (áreas muitos grandes) e restrições de acesso (considerando a autonomia e o raio de sobrevôo do drone). Para essas áreas, de acordo com as <a href=https://www.anac.gov.br/assuntos/paginas-tematicas/drones/orientacoes_para_usuarios.pdf>orientações da Agência Nacional de Aviação Civil (ANAC)</a>, foram realizadas requisições de autorização de sobrevôo junto ao <a href=https://www.anac.gov.br/assuntos/setor-regulado/profissionais-da-aviacao-civil/meteorologia-aeronautica/decea>DECEA</a> por meio do <a href=https://servicos.decea.gov.br/sarpas/ >SARPAS</a>.</p> <p>Após a definição de cada trecho, foram preparados <a href=https://www.instrutorgis.com.br/qgis310-exportar-mapa-para-geopdf/ >mapas georreferenciados em formato GeoPDF</a> para posterior inserção no aplicativo de celular <a href="https://play.google.com/store/apps/details?id=com.Avenza">Avenza Maps</a>. Estes mapas contemplavam os seguintes dados:</p> <ul> <li>Imagem de satélite (Sentinel 2 com composição R4 G3 B2).</li> <li>Trajeto previamente definido, com eventuais acessos às áreas desmatadas.</li> <li>Áreas detectadas pelo PRODES-Cerrado (a partir de 2016).</li> <li>Áreas detectadas pelo DETER-Cerrado (a partir de 2017).</li> <li>Localização das cidades de pernoite.</li> <li>Áreas previamente selecionadas para paradas sem sobrevôo de drone.</li> <li>Áreas previamente selecionadas para paradas com sobrevôo de drone.</li> </ul> <p><img alt="Exemplo de um mapa exportado para o formato GeoPDF." src=../imgs/04/ex_trecho.png title="Exemplo de um mapa exportado para o formato GeoPDF."></p> <p>Devido a restrição para importações de arquivos com até 500 mb, cada trecho foi subdividido em subtrechos. Destaca-se também que a importação de mapas no formato GeoPDF dispensou a necessidade de conexão de internet para a coleta dos dados.</p> <p><img alt="Listas de arquivos georreferenciados no formato PDF para o 2º campo realizado" src=../imgs/04/lista_arquivos_pdf.png title="Listas de arquivos georreferenciados no formato PDF para o 3º campo realizado"></p> <p>Para cada mapa importado pelo aplicativo Avenza Maps foi criado um formulário com os seguintes campos:</p> <ul> <li>Classe (PRODES 16, 17, 18 ou DETER 18 ou 19)</li> <li>Cobertura (uso/cobertura observado no campo)</li> <li>Observação (observação adicional sobre a área visitada)</li> <li>ID do sobrevôo (caso ocorresse o sobrevôo no poligono visitado)</li> </ul> <p>Durante a realização de cada campo, a pessoa responsável pela coleta registrava um marcador sobre a área desmatada. Essa marcação podia ser feita sem a necessidade de estar exatamente no local, o que favoreceu o registro de pontos com sobrevôo de drone (um exemplo dessa situação é ilustrado com a letra "B" na figura abaixo).</p> <p><img alt="Interface do app Avenza Maps" src=../imgs/04/ex_avenzamaps.png title="Interface do app Avenza Maps"></p> <p>No final de cada dia as fotos e os registros dos questionários eram exportados, respectivamente, nos formatos .jpg e .csv. A planilha exportada continha as seguintes colunas:</p> <ul> <li>ID</li> <li>Campo</li> <li>Trecho</li> <li>Localizador</li> <li>Sobrevôo</li> <li>Data</li> <li>Latitude</li> <li>Longitude</li> <li>Classe</li> <li>Observação</li> <li>Cobertura</li> </ul> <p>O nome das imagens correspondente a cada área visitada era formado pelo prefixo "Placemark/Localizador" e o respectivo ID. Caso houvesse mais de uma foto, esse id era acrescido de um sufixo indicando o sub-id de cada foto.</p> <h3 id=processo-de-atualizacao>Processo de atualização<a class=headerlink href=#processo-de-atualizacao title="Permanent link">&para;</a></h3> <p>Após a execução das viagens de campo, deve-se organizar as mídias digitais obtidas em três pastas principais: <code>fotos_camera</code>, <code>fotos_drone</code> e <code>videos_drone</code>. Internamente deverá conter subpastas com identificadores de qual visita de campo está sendo documentada. Por exemplo, a subpasta <code>Campo_01</code> é referente as mídias obtidas durante a primeira validação de campo. Dentro da pasta de <code>Campo</code>, deve-se criar subpastas com o identificador do <code>Trecho</code> onde foi retirada a fotografia ou vídeo de drone. E por fim, dentro da pasta referente ao Trecho, deve-se criar subpastas com o <code>Localizador</code> único de cada mídia. </p> <p>Portanto, a imagem abaixo apresenta estrutura de pastas e arquivos referente as fotos retiradas do solo durante a visita ao primeiro campo, ao atravessar o trecho anotado como '1A' e localizador único definido como Placemark 'numero'.</p> <p><img alt="Estrutura de pastas." src=../imgs/04/campo_tree_folders.png></p> <p>Após organização dos arquivos em pastas, uma planilha para controle e organização das imagens. Um exemplo de arquivo .csv que realiza a organização para o Campo_01, trecho '1A' pode ser encontrado neste <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/scripts/campo/exemplo_org_campo.csv>link</a>. Conforme, pode ser observado no exemplo, é importante que o arquivo csv apresente o seguinte cabeçalho:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>id,Campo,Trecho,Localizado,Sobrevôo,Data,Latitude,Longitude,Classe,Obs,Cobertura
</code></pre></div> <p>Uma vez que o arquivo .csv esteja preenchido com a informação de todos os campos. Deve-se realizar a inserção do mesmo no banco de dados, o que pode ser alcançado pela execução do seguinte comando:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>psql -d &lt;db_name&gt; --user<span class=o>=</span>&lt;db_user&gt; -c <span class=s2>&quot;COPY pontos_campo FROM &#39;&lt;caminho_para_o_arquivo_csv&gt;.csv&#39; delimiter &#39;,&#39; CSV [HEADER];&quot;</span>
</code></pre></div> <p>Após importação no banco de dados, é necessária a criação da geometria de ponto na tabela <code>pontos_campo</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>pontos_campo</span><span class=w></span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>SET</span><span class=w> </span><span class=n>geom</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ST_SetSRID</span><span class=p>(</span><span class=n>ST_MakePoint</span><span class=p>(</span><span class=n>lon</span><span class=p>,</span><span class=w> </span><span class=n>lat</span><span class=p>),</span><span class=w> </span><span class=mi>4674</span><span class=p>)</span><span class=w></span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=k>WHERE</span><span class=w> </span><span class=n>geom</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w></span>
</code></pre></div> <p>Em seguida é necessário realizar o cruzamento entre o PRODES e DETER-Cerrado em relação aos pontos visitados para associar o ponto visitado em campo com um polígono de desmatamento.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>pontos_campo</span><span class=w> </span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=k>SET</span><span class=w> </span><span class=n>prodes_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>gid</span><span class=w></span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=k>FROM</span><span class=w> </span><span class=n>prodes_cerrado</span><span class=w> </span><span class=n>p</span><span class=w></span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=k>WHERE</span><span class=w> </span><span class=n>pontos_campo</span><span class=p>.</span><span class=n>prodes_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w></span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=k>AND</span><span class=w> </span><span class=n>ST_INTERSECTS</span><span class=p>(</span><span class=n>pontos_campo</span><span class=p>.</span><span class=n>geom</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>geom</span><span class=p>)</span><span class=w></span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>pontos_campo</span><span class=w> </span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=k>SET</span><span class=w> </span><span class=n>deter_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=n>gid</span><span class=w></span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=k>FROM</span><span class=w> </span><span class=n>deter_cerrado</span><span class=w> </span><span class=n>d</span><span class=w></span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=k>WHERE</span><span class=w> </span><span class=n>pontos_campo</span><span class=p>.</span><span class=n>deter_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w></span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=k>AND</span><span class=w> </span><span class=n>ST_INTERSECTS</span><span class=p>(</span><span class=n>pontos_campo</span><span class=p>.</span><span class=n>geom</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=n>geom</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p>Geralmente as mídias digitais recolhidas durante a validação de campo (principalmente as obtidas durante o sobrevôo de drone) são compostas por arquivos pesados. Para tal, aplica-se um script para compresão dos mesmos a fim de facilitar a sua disponibilização no Cerrado DPAT. O script a ser executado é o <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/scripts/campo/compress_videos.sh><code>compress_videos.sh</code></a>, porém antes de executar é necessário alterar as linhas 5 e 6 com o caminho até o diretório dos vídeos e fotos de drone respectivamente.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>./compress_videos.sh
</code></pre></div> <p>A versão atual do script <code>compress_videos.sh</code> não comporta a compresão de imagens de câmera, porém caso desejem comprimir também estas, basta descomentar as linhas 7 e 42-47.</p> <p>Em seguida, a fim de realizar uma organização nas fotos comprimidas em um diretório único chamado <code>dados_padronizados</code>, adequando corretamente os nomes dos arquivos de acordo com o padrão descrito no arquivo .csv, deve-se executar o script <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/scripts/campo/organize_fotos.js><code>organize_fotos.js</code></a>. Antes de executar, confira as linhas 38 em relação a localização do arquivo .csv e caso tenha-se comprimido as fotografias de câmera, verificar também as linhas 52 e 53.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>node organize_fotos.js
</code></pre></div> <p>Por fim, deve-se configurar o caminho para a pasta <code>dados_padronizados</code> no arquivo de configuração <code>.env</code> no <em>Application Server</em> utilizando diretive <code>FIELD_DATA_DIR</code>. Por exemplo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>FIELD_DATA_DIR=/media/campo/dados_padronizados
</code></pre></div> <h2 id=dados-de-validacao-amostral>Dados de validação amostral<a class=headerlink href=#dados-de-validacao-amostral title="Permanent link">&para;</a></h2> <p>O processo de validação do PRODES-Cerrado se baseou em uma amostragem aleatória estratificada a partir de estratos definidos dentro e fora das <a href=/01-guia_dados_geograficos/#desmatamento>áreas mapeadas pelo PRODES-Cerrado</a> (antrópico 2000 e incrementos 2002-2019), considerando um intervalo de confiança de 95%, erro padrão de 3% e uma variância de 50%. O detalhamento do desenho amostral é relatado no artigo <a href=https://doi.org/10.1016/j.rsase.2020.100444>"Quality assessment of the PRODES Cerrado deforestation data"</a>.</p> <p><img alt="Equação empregada para o cálculo do tamanho da amostral de cada estrato" src=../imgs/04/formula_tam_amostra.png title="Equação empregada para o cálculo do tamanho da amostral de cada estrato"></p> <p>O tamanho amostral para cada estrato (assim como a respectiva população em pixels) é mostrado na figura abaixo.</p> <p><img alt="Quantidade de pontos sorteados" src=../imgs/04/tab_val.png title="Quantidade de pontos sorteados"></p> <p><img alt="Distribuição espacial das amostras usadas no processo de validação do PRODES-Cerrado 2019" src=../imgs/04/ptos_val0019.png title="Distribuição espacial das amostras usadas no processo de validação do PRODES-Cerrado 2019"></p> <h3 id=sorteio-de-novos-pontos>Sorteio de novos pontos<a class=headerlink href=#sorteio-de-novos-pontos title="Permanent link">&para;</a></h3> <p>Para a validação amostral de um novo ano, um novo sorteio de pontos deve ser realizado dentro dos novos incrementos de desmatamento e da área que ainda não foi mapeada pelo PRODES-Cerrado (i.e., vegetação nativa). Esse novo sorteio, baseado no tamanho amostral definido para cada estrato, pode ser realizado por meio do <a href=https://www.qgis.org/pt_BR/site/forusers/download.html>software QGIS</a> de acordo com as seguintes etapas:</p> <ul> <li>Sorteio dos pontos dentro dos novos incrementos de desmatamento.<ul> <li>Execução da ferramenta "dissolve" (opção presente na maior parte dos softwares e bibliotecas SIG).</li> <li>Sorteio dos pontos por meio da ferramenta "Pontos aleatórios no interior de poligonos".</li> </ul> </li> <li>Sorteio dos pontos dentro dos estratos fora da máscara antrópica (8 "flags" criadas pelo BFastClassify)<ul> <li>Conversão raster &rarr; vetor (o download do raster utilizado na validação amostral do PRODES-Cerrado 2019 <a href="https://drive.google.com/file/d/1rUFuL2eNZNB00zQz--avxu0Vd5jK0r4T/view?usp=sharing">está disponibilizado para download</a>)</li> <li>Execução da ferramenta "dissolve" (opção presente na maior parte dos softwares e bibliotecas SIG)</li> <li>Sorteio dos pontos por meio da ferramenta "Pontos aleatórios no interior de poligonos".</li> </ul> </li> <li>Execução da ferramenta "Mesclar camadas vetoriais" para juntar os pontos dentro dos estratos antrópicas e naturais.</li> </ul> <h3 id=inspecao-no-tvi>Inspeção no TVI<a class=headerlink href=#inspecao-no-tvi title="Permanent link">&para;</a></h3> <p>Em função da extensão da área e do período a ser avaliado, o processo de aquisição de dados pontuais referentes ao uso e cobertura da terra por meio de inspeção visual em imagens de sensoriamento remoto despende tempo e resulta em um grande volume de dados a serem armazenados. Tendo em vista esta situação, o Laboratório de Processamento de Imagens e Geoprocessamento da Universidade Federal de Goiás (LAPIG - UFG) desenvolveu uma ferramenta online e de código aberto com o propósito de otimizar a inspeção de pontos em imagens de satélite.</p> <p>A ferramenta <a href=https://github.com/lapig-ufg/tvi>TVI (Temporal Visual Inspection)</a> utiliza uma arquitetura web, baseada em softwares livres, com banco de dados MongoDB e servidor de aplicação NodeJs. O banco de dados é responsável por armazenar todas as informações referente aos pontos (ex: classes atribuídas por um intérpretes, coordenadas geográficas, etc), sendo que sua alimentação ocorre por meio de um módulo de importação que recebe como entrada um arquivo GeoJSON com as coordenadas dos pontos a serem interpretados. Após este processo, a ferramenta busca as imagens que serão inspecionadas.</p> <p><img alt="Interface da ferramenta TVI" src=../imgs/04/ex_tvi.png title="Interface da ferramenta TVI"></p> <p>As imagens são disponibilizadas junto com dados auxiliares. Ao intérprete são fornecidos gráficos de séries temporais de imagens MODIS NDVI (normalized difference vegetation index) e precipitação (TRMM, Tropical Rainfal Measurement Mission, e GPM, Global Precipitation Mission), além do acesso às imagens disponibilizadas pelo software Google Earth por meio de um arquivo KML correspondente ao ponto inspecionado. Assim, cabe ao usuário interpretar e associar à determinado ponto as respectivas de cobertura do solo (antrópico, natural e não observado) observadas em cada ano da série histórica. Essa associação, realizada com base nos <a href=http://cerrado.obt.inpe.br/wp-content/uploads/2019/08/report_funcate_metodologia_mapeamento_bioma_cerrado.pdf>critérios adotados pelo INPE</a>, é realizada por meio da seleção do intervalo em que a classe pode ser observada na imagem.</p> <p>Cada um dos pontos sorteados foi inspecionado por 2 interpretes. Para um determinado ano, caso houvesse discordância entre eles, um terceiro interprete (mais experiente e com maior conhecimento acerca do bioma) foi encarregado de definir uma classe editada com a cobertura por ele observada. A classe final, com o voto majoritário ou editado de todos os pontos, recebeu o nome de "classe consolidada".</p> <p>Destaca-se também que, além dos critérios adotados pelo INPE, a realização das <a href=/04-metricas_de_avaliacao/#dados-de-campos>atividades de campo</a> reuniu um rico material que subsidiou reuniões e treinamentos com o propósito de esclarecer comportamentos e caracteristicas presentes no bioma e respectiva representação em imagens Landsat. Algumas situações discutidas durante estes momentos foram dúvidas a respeito do padrão espectral de áreas queimadas e de áreas desmatadas que após determinado tempo começam a ter a vegetação nativa em processo inicial de regeneração. Um exemplo dessa última situação é mostrado na figura abaixo. Nesse caso, o desmatamento foi detectado no ano de 2017, seguido de regeneração e uma nova limpeza da área em 2019 (momento da visita em campo).</p> <p><img alt="Contribuição das atividades de campo no processo de interpretação das imagens Landsat" src=../imgs/04/campo_2.png title="Contribuição das atividades de campo no processo de interpretação das imagens Landsat"></p> <p>Abaixo é mostrado um outro exemplo que também reflete as dificuldades relatadas e discutidas em cada reunião. Nele, o ano com a detecção do desmatamento correspondeu a identificação do corte raso em 2016, e não à ocorrência de queimada no ano anterior (áreas com eventos de degradação também não foram considerados).</p> <p><img alt="Contribuição das atividades de campo no processo de interpretação das imagens Landsat" src=../imgs/04/ex_dificuldade.png title="Área de queimada sucedida por desmatamento."></p> <p>Dentro do TVI também foi desenvolvida uma interface voltada ao acompanhamento do processo de inspeção. Assim, um usuário com status de supervisor tem a possibilidade de monitorar o desempenho de cada um dos intérpretes, de forma a identificar eventuais inconsistências e a necessidade de adequações aos critérios estabelecido. Nesta interface o supervisor tem acesso a todas as inspeções efetuadas, havendo a possibilidade de filtragem por classes e intérpretes. Também são disponibilizados algumas informações com o objetivo de contribuir com possíveis orientações e discussões com a equipe envolvida. São elas: números de pontos inspecionados (por intérprete), média de tempo por ponto inspecionado ( intérprete), média de “votos” (inspeções) por cobertura (em porcentagem) e número de pontos com concordância. Ressalta-se a importância de tal interface durante os treinamentos e reuniões, onde os interpretes puderam ser acompanhados e orientados por especialistas nos biomas acerca das suas respectivas dificuldades.</p> <p>Após o processo de inspeção visual, uma planilha com os registros consolidados e de cada interprete é gerada pelo TVI. Por fim, uma <a href=../tabs/validacao_classes_prodes_2000-2019.csv>tabela final é disponibilizada</a> com as classes consolidadas e com o ano da transição "Antropico" para "Natural". Considerando que a classe antrópica não é revertida para natural, o ano de detecção pode ser definido de diferentes formas (e.g., scripts, filtros em planilhas). </p> <p><img alt="Tabela resultante do processo de inspeção visual" src=../imgs/04/ex_tabelafinal.png></p> <h3 id=processo-de-atualizacao_1>Processo de atualização<a class=headerlink href=#processo-de-atualizacao_1 title="Permanent link">&para;</a></h3> <p>Após o processo de Inspeção no TVI, um arquivo .csv com a consolidação das classes pontos é criado com a seguinte estrutura de cabeçalho e considerando ';' como separador: </p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>gid;lon;lat;d_2000;d_2001;d_2002;d_2003;d_2004;d_2005;d_2006;d_2007;d_2008;d_2009;d_2010;d_2011;d_2012;d_2013;d_2014;d_2015;d_2016;d_2017;d_2018;d_2019;classe
</code></pre></div> <p>Os campos lon e lat deverão apresentar a longitude e latitude do ponto inspecionado. As colunas 'd_20**' deverão apresentar a classe atribuída ao ponto no respectivo ano e o campo 'classe' deverá apresentar a classe final consolidada após a inspeção, podendo ser ela Natural, Água ou o ano apontado como desmatamento pela inspeção visual.</p> <p>Após revisão do arquivo .csv, deve-se inserir os resultados alcançados pela validação amostral através do script <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/scripts/bfast/insert_validacao_amostral.js>insert_validacao_amostral.js</a>. Antes de executar o script, deve-se alterar a linha 9 para a localização do arquivo .csv. Para execução da inserção, faça:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=nx>node</span><span class=w> </span><span class=nx>insert_validacao_amostral</span><span class=p>.</span><span class=nx>js</span><span class=w></span>
</code></pre></div> <p>Após inserção dos pontos no banco de dados, é necessária a criação das geometrias dos pontos, portanto execute o seguinte comando SQL:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>validacao_amostral</span><span class=w> </span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=k>SET</span><span class=w> </span><span class=n>geom</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ST_Transform</span><span class=p>(</span><span class=n>ST_SetSRID</span><span class=p>(</span><span class=n>ST_MakePoint</span><span class=p>(</span><span class=k>cast</span><span class=p>(</span><span class=n>lon</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nb>float</span><span class=p>),</span><span class=w> </span><span class=k>cast</span><span class=p>(</span><span class=n>lat</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nb>float</span><span class=p>)),</span><span class=w> </span><span class=mi>4674</span><span class=p>),</span><span class=mi>4674</span><span class=p>)</span><span class=w></span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=k>WHERE</span><span class=w> </span><span class=n>geom</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w></span>
</code></pre></div> <p>Em seguida, deve-se realizar a intersecção dos pontos inseridos com os polígonos de desmatamento PRODES-Cerrado. Para tal, execute o seguinte comando SQL:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>validacao_amostral</span><span class=w> </span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=k>SET</span><span class=w> </span><span class=n>prodes_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>gid</span><span class=w></span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=k>FROM</span><span class=w> </span><span class=n>prodes_cerrado</span><span class=w> </span><span class=n>p</span><span class=w></span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=k>WHERE</span><span class=w> </span><span class=n>validacao_amostral</span><span class=p>.</span><span class=n>prodes_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w></span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=k>AND</span><span class=w> </span><span class=n>ST_INTERSECTS</span><span class=p>(</span><span class=n>validacao_amostral</span><span class=p>.</span><span class=n>geom</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>geom</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p>Por fim, deve-se executar duas queries para anotar quais pontos foram consolidados como desmatamento ou não através da atribuição de valor ao campo <code>aux_desmat</code>, caso seja detectado desmatamento atribui-se <code>1</code>, caso contrário <code>0</code> :</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>validacao_amostral</span><span class=w></span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=k>SET</span><span class=w> </span><span class=n>aux_desmat</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w></span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=k>WHERE</span><span class=w> </span><span class=n>aux_desmat</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>&#39;AGUA&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>&#39;NATURAL&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>classe</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>&#39;NAO_OBSERVADO&#39;</span><span class=w></span>
</code></pre></div> <p>Após a atribuição do valor 1 aos polígonos que foram detectados em áreas desmatadas, sobraram apenas pontos que foram anotados com a classe 'AGUA', 'NATURAL' ou 'NAO_OBSERVADO' de modo que estes pontos estão com valor <code>null</code> para o campo <code>aux_desmat</code>, portanto:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>validacao_amostral</span><span class=w></span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=k>SET</span><span class=w> </span><span class=n>aux_desmat</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=w></span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=k>WHERE</span><span class=w> </span><span class=n>aux_desmat</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span><span class=w></span>
</code></pre></div> <h3 id=calculo-de-acuracia>Cálculo de acurácia<a class=headerlink href=#calculo-de-acuracia title="Permanent link">&para;</a></h3> <p>As acurácias do produtor, do usuário e geral, foi calculada a partir da multiplicação de cada acerto (1) pela probabilidade amostral correspondente a cada estrato.</p> <p><img alt=Acurácia src=../imgs/04/tab_acc.png title=Acurácia></p> <p>Para a construção da matriz de confusão foram consideradas as classes "Antrópico" e "Natural" no ano de 2019. O resultado pode ser observado na tabela abaixo. </p> <p><img alt=Acurácia src=../imgs/04/prodes19_acc.png title=Acurácia></p> <p>Considerando os outros anos mapeados, observa-se uma proximidade entre as estimativas da acurácia.</p> <p><img alt=Acurácia src=../imgs/04/grafico_acuracia.png title=Acurácia></p> <p>O arquivo com todas as amostras utilizadas no cálculo da acurácia de 2019 está <a href=../tabs/resultados_acuracia_prodes.xlsx>disponível para download</a>. Ressalta-se que essas amostras devem ser consideradas no processo de validação para os próximos anos, com a substituição dos pontos presentes na classe "Natural".</p> <h2 id=analise-automatica>Análise automática<a class=headerlink href=#analise-automatica title="Permanent link">&para;</a></h2> <h3 id=execucao-do-bfast-monitor>Execução do BFast-Monitor<a class=headerlink href=#execucao-do-bfast-monitor title="Permanent link">&para;</a></h3> <p>Para atualização do Bfast-Monitor, é necessário três coisas:</p> <ol> <li>Um Shapefile com os pixels MODIS filtrados para as áreas onde se deseja verificar se houve quebras na série temporal.</li> <li>Um arquivo .TIF com toda a série temporal MODIS que pode ser gerado pelo projeto <a href=https://github.com/lapig-ufg/mdc>MODIS Data Cube</a>.</li> <li>Os scripts <code>bfast.R</code> e <code>maxmin.R</code>, ambos inseridos na pasta <a href=https://github.com/lapig-ufg/d-pat/tree/master/src/server/scripts/bfast>scripts/bfast</a> no repositório do Github.</li> </ol> <h4 id=criacao-do-shapefile-com-os-pixels-modis>Criação do Shapefile com os Pixels MODIS<a class=headerlink href=#criacao-do-shapefile-com-os-pixels-modis title="Permanent link">&para;</a></h4> <p>Primeiramente, é importante informar que utilizamos a tabela <code>pixel_modis</code> no banco de dados que contém todos os pixels MODIS para a extensão do Cerrado, sendo assim necessária a filtragem para apenas os pixels MODIS que se encontram dentro das áreas desmatadas de interesse. </p> <p>Este filtro pode ser alcançado através da construção de uma View no banco de dados com os polígonos PRODES-Cerrado de interesse. Para exemplificar, criamos uma View que filtram os polígonos PRODES-Cerrado detectados em 2019 com o comando SQL abaixo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=k>CREATE</span><span class=w> </span><span class=k>OR</span><span class=w> </span><span class=k>REPLACE</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=k>public</span><span class=p>.</span><span class=n>prodes_2019</span><span class=w> </span><span class=k>AS</span><span class=w> </span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>gid</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>uid</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>origin_gid</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>pathrow</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>view_date</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=k>source</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>classname</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>areamunkm</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>county</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>uf</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>geom</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>sucept_desmat</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>sucept_desmat_peq</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>sucept_desmat_grd</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>bfm_pct</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=k>year</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>lat</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>long</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>classefip</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-21 name=__codelineno-14-21 href=#__codelineno-14-21></a><span class=w>    </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=n>cd_geocmu</span><span class=w></span>
<a id=__codelineno-14-22 name=__codelineno-14-22 href=#__codelineno-14-22></a><span class=w>   </span><span class=k>FROM</span><span class=w> </span><span class=n>prodes_cerrado</span><span class=w></span>
<a id=__codelineno-14-23 name=__codelineno-14-23 href=#__codelineno-14-23></a><span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>prodes_cerrado</span><span class=p>.</span><span class=k>year</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2019</span><span class=p>;</span><span class=w></span>
</code></pre></div> <p>Após a criação da View <code>prodes_2019</code>, é necessária a criação de um Shapefile com os pixels MODIS que intersectam os polígonos de desmatamento, contendo os seguintes atributos: {lon, lat, seq_id}, que representam a longitude e latitude do pixel e um identificador único do polígono onde foi extraído o ponto. O Shapefile é criado pelo comando shell abaixo:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>$ pgsql2shp -f &lt;filename.shp&gt; -h &lt;hostname&gt; -u &lt;db_user&gt; -P &lt;db_password&gt; &lt;db_name&gt; <span class=s2>&quot;select ST_X(pixel.geom) as lon, ST_Y(pixel.geom) as lat, p.gid as seq_id, pixel.geom as geom from pixel_modis pixel inner join prodes_2019 p on ST_INTERSECTS(p.geom, pixel.geom)&quot;</span>
</code></pre></div> <p>O comando acima deverá criar um arquivo <code>filename.shp</code> com os pixels MODIS para os desmatamentos PRODES-Cerrado 2019 no local onde foi executado.</p> <h4 id=execucao-do-mdc-e-criacao-da-serie-modis>Execução do MDC e criação da série MODIS<a class=headerlink href=#execucao-do-mdc-e-criacao-da-serie-modis title="Permanent link">&para;</a></h4> <p>Inicialmente é necessário realizar o download do projeto <a href=https://github.com/lapig-ufg/mdc>MDC</a>. Em seguida, deve-se instalar todas as dependências listadas no projeto. Em seguida, extraia o arquivo <code>MRT.zip</code> e altere o parâmetro <code>path_mrt</code> no arquivo <code>mdc/src/conf/datasources.conf</code> para a localização da pasta extraída. </p> <p>Para iniciar o processamento da série temporal, execute os passos definidos no Readme.md do projeto MDC, e por fim, execute o comando abaixo que deverá criar toda a série temporal para o Brasil do período de 01 de Janeiro de 2000 até 01 de Janeiro de 2020. Portanto, para datas futuras, deve-se alterar os parâmetros <code>-s</code> e <code>-e</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=err>$</span> <span class=n>python</span> <span class=n>sits</span><span class=o>.</span><span class=n>py</span> <span class=o>-</span><span class=n>d</span> <span class=n>modis</span> <span class=o>-</span><span class=n>p</span> <span class=n>MOD13Q1</span><span class=mf>.006</span> <span class=o>-</span><span class=n>r</span> <span class=n>brasil</span> <span class=o>-</span><span class=n>s</span> <span class=mi>2000</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=o>-</span><span class=n>e</span> <span class=mi>2020</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span>
</code></pre></div> <p>O processamento acima irá criar diversos arquivos .TIF na pasta. Em seguida é necessário organizar todos os arquivos .tif em uma pasta única. Fora da pasta dos arquivos, deve-se criar um arquivo .txt listando todos os arquivos .tif gerados, portanto pode-se executar os seguintes comandos no bash:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>$ touch mod13q1_ndvi_list.txt
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>$ ls &lt;pasta_com_arquivos_tif&gt;/ &gt; mod13q1_ndvi_list.txt
</code></pre></div> <p>Em seguida, acesse a pasta com os TIFs. Inicialmente é necessário descobrir qual o valor do parâmetro NoData para os arquivos gerados. Para tal execute o seguinte comando:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>$ gdalinfo nomedoarquivo.tif
</code></pre></div> <p>Após verificar o valor do NoData, execute o comando abaixo para geração do arquivo VRT da série temporal:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>$ gdalbuildvrt -srcnodata &lt;NoData_value&gt; -separate -input_file_list ../mod13q1_ndvi_list.txt ../&lt;nome_arquivo_VRT&gt;.vrt
</code></pre></div> <p>Por fim, exeute o comando abaixo para criação de um arquivo único TIF, também conhecido como BigTIF. Vale ressaltar que o comando abaixo possui um tempo considerável de processamento, portanto é aconselhável executá-lo em segundo plano com a ajuda do nohup.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>$ nohup gdal_translate -co <span class=nv>TILED</span><span class=o>=</span>YES -co <span class=nv>COMPRESS</span><span class=o>=</span>lzw -co <span class=nv>BIGTIFF</span><span class=o>=</span>YES -co <span class=nv>INTERLEAVE</span><span class=o>=</span>PIXEL ../&lt;nome_arquivo_VRT&gt;.vrt ../&lt;nome_arquivo_TIF&gt;.tif &gt; saida.out <span class=p>&amp;</span>
</code></pre></div> <p>Para inserir a série temporal gerada no Cerrado DPAT, é necessário mover os arquivos <code>&lt;nome_arquivo_TIF&gt;.tif</code> e <code>&lt;nome_arquivo_VRT&gt;.vrt</code> para dentro da pasta <code>catalog/time_series_db</code> na localização da pasta <code>catalog</code> configurada no <a href=/02-arq_execucao_dpat/#execucao-do-ows-server>OWS Server</a>. Em seguida, altere a propriedade <code>file</code> na chave <code>[MOD13Q1_NDVI]</code> no arquivo de configuração <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/integration/py/time-series/conf/layers.ini><code>layers.ini</code></a> (que disponibiliza a série temporal via serviço no Cerrado DPAT) para <code>&lt;nome_arquivo_TIF&gt;.tif</code>. </p> <p>Vale ressaltar que a série temporal MODIS criada de Janeiro de 2000 até Agosto de 2020 está atualizada no arquivo <a href="https://drive.google.com/file/d/1L2pW2PudSsmwGQMhPGXbZd5sJvBmEcSW/view?usp=sharing"><code>DADOS_RASTER_CATALOG_FIP_CERRADO.tar.gz</code></a> com nome <code>pa_br_mod13q1_ndvi_250_2000_2020.tif</code> dentro da subpasta <code>time_series_db</code>. </p> <h4 id=execucao-dos-scripts-de-atualizacao-do-bfast>Execução dos scripts de atualização do Bfast<a class=headerlink href=#execucao-dos-scripts-de-atualizacao-do-bfast title="Permanent link">&para;</a></h4> <p>Após a criação da série MODIS para o Brasil, é necessária a execução do algoritmo Bfast-Monitor para os pixels filtrados. Primeiramente é necessário alterar o arquivo <code>bfast.R</code> na linha 38 (descrita abaixo), indicando corretamente a localização do arquivo BigTIF com a série MODIS processada.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=n>ndvi</span> <span class=o>&lt;-</span> <span class=nf>brick</span><span class=p>(</span><span class=s>&quot;&lt;localização_arquivo_serie_MODIS.tif&gt;&quot;</span><span class=p>)</span>
</code></pre></div> <p>Em seguida, deve-se executar o script <code>bfast.R</code> (que importa o script <code>maxmin.R</code> para normalização dos dados), informando os parâmetros com a localização do Shapefile criado e quantos pixels MODIS serão analisados, conforme o exemplo abaixo, que indica a localização do shapefile <code>modis_prodes_2019_shp</code> e que deverão ser analisados dos pixels 1 até o 123513 (quantidade total de pixels no Shapefile):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>Rscript bfast.R &lt;path_to_modis_prodes_2019.shp&gt; <span class=m>1</span> <span class=m>123513</span>
</code></pre></div> <p>Este processamento irá resultar em um arquivo .csv nomeado <code>result.csv</code>. Por fim, basta importar o arquivo .csv no banco de dados utilizando o script <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/scripts/bfast/insert_bfast_db.js><code>insert_bfast_db.js</code></a>. Primeiramente é necessário alterar a linha 9 do script com a localização correta do arquivo <code>result.csv</code>. Por fim, execute o script com o comando.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=nx>node</span><span class=w> </span><span class=nx>insert_bfast_db</span><span class=p>.</span><span class=nx>js</span><span class=w></span>
</code></pre></div> <p>Em seguida, deve-se criar a geometria dos pontos importados no banco de dados:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>bfast_points</span><span class=w></span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=k>SET</span><span class=w> </span><span class=n>geom</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ST_SetSRID</span><span class=p>(</span><span class=n>ST_MakePoint</span><span class=p>(</span><span class=n>lon</span><span class=p>,</span><span class=w> </span><span class=n>lat</span><span class=p>),</span><span class=w> </span><span class=mi>4674</span><span class=p>)</span><span class=w></span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=k>WHERE</span><span class=w> </span><span class=n>geom</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span><span class=p>;</span><span class=w></span>
</code></pre></div> <p>Por fim, é necessária a atualização do campo <code>bfm_pct</code> na tabela PRODES-Cerrado que deverá conter a porcentagem de quebras identificadas em cada polígono filtrado, portanto deve-se executar a seguinte query:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>update</span><span class=w> </span><span class=n>prodes_2019</span><span class=w></span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=k>set</span><span class=w> </span><span class=n>bfm_pct</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>g</span><span class=p>.</span><span class=n>div</span><span class=w></span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=k>from</span><span class=w> </span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=p>(</span><span class=w></span>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=w>    </span><span class=k>select</span><span class=w> </span><span class=n>tt</span><span class=p>.</span><span class=n>gid_total</span><span class=p>,</span><span class=n>tt</span><span class=p>.</span><span class=n>totale</span><span class=p>,</span><span class=n>pp</span><span class=p>.</span><span class=n>gid_na</span><span class=p>,</span><span class=n>pp</span><span class=p>.</span><span class=n>total_na</span><span class=p>,</span><span class=w> </span><span class=p>((</span><span class=k>cast</span><span class=p>(</span><span class=n>pp</span><span class=p>.</span><span class=n>total_na</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nb>numeric</span><span class=p>)</span><span class=o>/</span><span class=w> </span><span class=k>cast</span><span class=p>(</span><span class=n>tt</span><span class=p>.</span><span class=n>totale</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nb>numeric</span><span class=p>))</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>div</span><span class=w> </span><span class=k>from</span><span class=w></span>
<a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=w>    </span><span class=p>(</span><span class=w></span>
<a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>gid</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>gid_total</span><span class=p>,</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=n>b</span><span class=p>.</span><span class=n>geom</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>totale</span><span class=w> </span>
<a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a><span class=w>        </span><span class=k>FROM</span><span class=w> </span><span class=n>prodes_2019</span><span class=w> </span><span class=n>p</span><span class=w></span>
<a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class=w>        </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>bfast_points</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>ST_INTERSECTS</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>geom</span><span class=p>,</span><span class=n>b</span><span class=p>.</span><span class=n>geom</span><span class=p>)</span><span class=w></span>
<a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a><span class=w>        </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>gid</span><span class=w></span>
<a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>tt</span><span class=w></span>
<a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a><span class=w>    </span><span class=k>INNER</span><span class=w> </span><span class=k>JOIN</span><span class=w></span>
<a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a><span class=w>    </span><span class=p>(</span><span class=w></span>
<a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>gid</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>gid_na</span><span class=p>,</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=n>b</span><span class=p>.</span><span class=n>geom</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_na</span><span class=w> </span>
<a id=__codelineno-25-15 name=__codelineno-25-15 href=#__codelineno-25-15></a><span class=w>        </span><span class=k>FROM</span><span class=w> </span><span class=n>prodes_2019</span><span class=w> </span><span class=n>p</span><span class=w></span>
<a id=__codelineno-25-16 name=__codelineno-25-16 href=#__codelineno-25-16></a><span class=w>        </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>bfast_points</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>ST_INTERSECTS</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>geom</span><span class=p>,</span><span class=n>b</span><span class=p>.</span><span class=n>geom</span><span class=p>)</span><span class=w></span>
<a id=__codelineno-25-17 name=__codelineno-25-17 href=#__codelineno-25-17></a><span class=w>        </span><span class=k>where</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>breakpoint</span><span class=w> </span><span class=o>&lt;&gt;</span><span class=w> </span><span class=s1>&#39;NA&#39;</span><span class=w></span>
<a id=__codelineno-25-18 name=__codelineno-25-18 href=#__codelineno-25-18></a><span class=w>        </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>gid</span><span class=w></span>
<a id=__codelineno-25-19 name=__codelineno-25-19 href=#__codelineno-25-19></a><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>pp</span><span class=w></span>
<a id=__codelineno-25-20 name=__codelineno-25-20 href=#__codelineno-25-20></a><span class=w>    </span><span class=k>on</span><span class=w> </span><span class=n>pp</span><span class=p>.</span><span class=n>gid_na</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tt</span><span class=p>.</span><span class=n>gid_total</span><span class=w></span>
<a id=__codelineno-25-21 name=__codelineno-25-21 href=#__codelineno-25-21></a><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=k>g</span><span class=w></span>
<a id=__codelineno-25-22 name=__codelineno-25-22 href=#__codelineno-25-22></a><span class=k>where</span><span class=w> </span><span class=k>g</span><span class=p>.</span><span class=n>gid_total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>prodes_2019</span><span class=p>.</span><span class=n>gid</span><span class=w></span>
</code></pre></div> <h3 id=susceptibilidade-ao-desmatamento>Susceptibilidade ao desmatamento<a class=headerlink href=#susceptibilidade-ao-desmatamento title="Permanent link">&para;</a></h3> <h4 id=construcao-das-superficies>Construção das superfícies<a class=headerlink href=#construcao-das-superficies title="Permanent link">&para;</a></h4> <p>As superfícies de susceptibilidades foram construídas a partir da sintese dos principais fatores vinculados a estes fenômenos. Uma compilação de métricas espacialmente explícitas relacionadas a esses fatores, foi realizada a partir de um processo de revisão da literatura, disponibilidade de dados e verificação, por meio estatístico, da significância e das correlações entre dados compilados. O conjunto final foi constituído por 11 métricas: distância de áreas antrópicas; distância de rodovias; distância de silos e armazéns; categoria fundiária; tamanho da propriedade; textura e tipo de solo; geomorfologia, declividade, altitude e média anual da precipitação acumulada entre os anos de 200 e-2015.</p> <table> <thead> <tr> <th align=center>Dado</th> <th align=center>Fonte</th> </tr> </thead> <tbody> <tr> <td align=center>Distância de áreas antrópicas</td> <td align=center>Calculada a partir da área antrópica acumulada do <a href=http://terrabrasilis.dpi.inpe.br/downloads/ >PRODES-Cerrado</a></td> </tr> <tr> <td align=center>Distância de rodovias</td> <td align=center><a href=http://download.geofabrik.de/south-america.html>Open Street Maps</a></td> </tr> <tr> <td align=center>Densidade de silos e armazens</td> <td align=center><a href=/01-guia_dados_geograficos/#infraestrutura>CONAB (revisado pelo LAPIG-UFG)</a></td> </tr> <tr> <td align=center>Altitude</td> <td align=center><a href=/01-guia_dados_geograficos/#geofisico>SRTM</a></td> </tr> <tr> <td align=center>Delividade</td> <td align=center><a href=/01-guia_dados_geograficos/#geofisico>SRTM</a></td> </tr> <tr> <td align=center>Precipitação</td> <td align=center><a href=/01-guia_dados_geograficos/#edafoclimaticos>TRMM/INMET (interpolação realizada pelo LAPIG-UFG)</a></td> </tr> <tr> <td align=center>Tamanho da propriedade</td> <td align=center><a href=https://www.car.gov.br/publico/municipios/downloads>SICAR</a></td> </tr> <tr> <td align=center>Categoria fundiária</td> <td align=center><a href=https://www.car.gov.br/publico/municipios/downloads>Propriedades (SICAR)</a> <br> <a href=http://mapas.mma.gov.br/i3geo/datadownload.htm>Unidades de Conservação (MMA)</a> <br> <a href=http://www.funai.gov.br/index.php/shape>Terras Indigenas (Funai)</a> <br> <a href=http://acervofundiario.incra.gov.br/acervo/acv.php>Assentamentos (INCRA)</a> <br> <a href=http://acervofundiario.incra.gov.br/acervo/acv.php>Comunidades Quilombolas (INCRA)</a></td> </tr> <tr> <td align=center>Geomorfologia</td> <td align=center><a href=https://bdiaweb.ibge.gov.br/#/consulta/geomorfologia>BDIA-IBGE</a></td> </tr> <tr> <td align=center>Solo (tipologia)</td> <td align=center><a href=https://bdiaweb.ibge.gov.br/#/consulta/pedologia>BDiA-IBGE</a></td> </tr> <tr> <td align=center>Solo (textura)</td> <td align=center><a href=https://bdiaweb.ibge.gov.br/#/consulta/pedologia>BDiA-IBGE</a></td> </tr> </tbody> </table> <p>O método de Pesos de Evidência, adaptado para análises espaciais pelo software <a href=https://csr.ufmg.br/dinamica/ >Dinamica EGO</a>, foi utilizado para verificar a influência de cada métrica nos desmatamentos grandes e pequenos ocorridos entre os anos de 2010 e 2015. Este intervalo foi escolhido para que as duas superfícies geradas fossem aos desmatamentos detectados após 2016 (início do projeto FIP Monitoramento). A interação entre os pesos de cada métrica resultou em dois arquivos raster com valores numérico entre 0 e 1, indicando, respectivamente, áreas com baixa e alta susceptibilidade ao desmatamento. Os arquivos de entrada do modelo (métricas e paisagens) <a href="https://drive.google.com/drive/folders/14HxKoSTxih-zjfpO_bFlTC_1VV306dBq?usp=sharing">estão disponibilizados aqui</a>.</p> <p><img alt="Procedimentos para a elaboração das superfícies de susceptibilidade ao desmatamento." src=../imgs/01/fluxograma.png title="Procedimentos para a elaboração das superfícies de susceptibilidade ao desmatamento."></p> <p>Os procedimentos que ocorreram dentro do software <a href=https://csr.ufmg.br/dinamica/ >Dinamica EGO</a> estão detalhados nas figuras abaixo. </p> <p>Etapa 1: Categorização das métricas continuas (<a href=../egoml/1_DetermineWOERanges.egoml>download do modelo em formato .egoml</a>)</p> <p><img alt="Primeira etapa" src=../imgs/04/dinamica_etapa1.jpg title="Etapa 1: Categorização das métricas continuas"> </p> <p>Etapa 2: Cálculo dos coeficientes (pesos) de cada métrica (<a href=../egoml/2_DetermineWOECoefficients.egoml>download do modelo em formato .egoml</a>)</p> <p><img alt="Segunda etapa" src=../imgs/04/dinamica_etapa2.jpg title="Etapa 2: Cálculo dos coeficientes (pesos) de cada métrica"> </p> <p>Etapa 3: Cálculo da susceptibilidade ao desmatamento (<a href=../egoml/3_CalcProbabiltyMap.egoml>download do modelo em formato .egoml</a>)</p> <p><img alt="Terceira etapa" src=../imgs/04/dinamica_etapa4.jpg title="Etapa 3: Cálculo da susceptibilidade ao desmatamento"> </p> <p>Ao final, as superfícies geradas foram avaliadas a partir dos seus respectivos cruzamentos com os polígonos detectados no ano de 2016.</p> <p><img alt="Distribuição das áreas detectadas pelo PRODES-Cerrado, em 2016, em relação aos valores de susceptibilidade presentes na superfície gerada." src=../imgs/01/suscep_x_d2016.jpg title="Distribuição das áreas detectadas pelo PRODES-Cerrado, em 2016, em relação aos valores de susceptibilidade presentes na superfície gerada."></p> <p>Após a execução do modelo para todo o Cerrado, foi realizado o cruzamento das superfícies geradas com os polígonos do PRODES e DETER-Cerrado para os anos de 2016, 2017 e 2018. Para os polígonos do PRODES-Cerrado, foi observado que cerca de 51% dos polígonos estão em áreas com alta susceptibilidade a desmatamentos grandes o que representa uma área total de 3.496 km², de modo que 75% dessa área apresenta susceptibilidade superior a 50%. O mesmo ocorre também para os polígonos de desmatamento pequenos, que representam uma área total de 4.902 km² e 78% da área desses polígonos está inserida regiões com alta susceptibilidade a desmatamentos pequenos.</p> <p>Da mesma forma, para os polígonos do DETER-Cerrado foi observado que apenas 14% dos polígonos estão em regiões com alta susceptibilidade a desmatamentos grandes, porém estes 14%, compõem um total de 2.855 km² e representam aproximadamente 54% de toda a área desmatada no período supracitado, o que atrai uma atenção especial para este caso, pois embora a quantidade de desmatamentos seja menor, o seu impacto é significativo para o contexto. Para os polígonos de desmatamento pequenos, que representam 87% do total de polígonos e correspondente a 2.437 km², 71% destes polígonos se encontram em regiões com pelo menos 50% de susceptibilidade a desmatamentos pequenos, o que mostra uma boa acurácia do método em proporcionar um indicativo para desmatamentos futuros, fornecendo assim um guia viável para órgãos governamentais intensificarem a fiscalização em regiões com alta susceptibilidade de desmatamentos.</p> <h4 id=cruzamento-com-suceptibilidade>Cruzamento com suceptibilidade<a class=headerlink href=#cruzamento-com-suceptibilidade title="Permanent link">&para;</a></h4> <p>Após atualização dos dados PRODES-Cerrado e/ou DETER-Cerrado, é necessária a atualização das colunas <code>sucept_desmat_peq</code> e <code>sucept_desmat_grd</code> que representam a susceptibilidade a desmatamentos grandes e pequenos dos polígonos PRODES-Cerrado. Para tal, é necessário obter os arquivos .TIF com as superfícies geradadas no <a href="https://drive.google.com/file/d/1L2pW2PudSsmwGQMhPGXbZd5sJvBmEcSW/view?usp=sharing">link</a>. O arquivo <code>DADOS_RASTER_CATALOG_FIP_CERRADO.tar.gz</code> possui todos dados Raster presentes no DPAT, para tal descompacte a pasta FIP para obter ambas as superfícies.</p> <p>Primeiramente, deve-se instalar as dependências do python e as bibliotecas para execução do script <code>run_zonal_susceptibilidade.py</code>. Portanto, execute o script <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/scripts/susceptibilidade/install_dependences.sh>install_dependences.sh</a>: </p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a>./install_dependences.sh
</code></pre></div> <p>Em seguida, acesse o arquivo <code>run_zonal_susceptibilidade.py</code> presente no <a href=https://github.com/lapig-ufg/d-pat/blob/master/src/server/scripts/susceptibilidade/run_zonal_suceptibilidade.py>repositório</a> do projeto e faça as seguintes modificações:</p> <ul> <li>Altere a linha 118 colocando as valores corretos para autenticação no banco de dados: <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=n>connPostgis</span> <span class=o>=</span> <span class=s2>&quot;PG: host=</span><span class=si>%s</span><span class=s2> port=</span><span class=si>%s</span><span class=s2> dbname=</span><span class=si>%s</span><span class=s2> user=</span><span class=si>%s</span><span class=s2> password=</span><span class=si>%s</span><span class=s2>&quot;</span> \
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>  <span class=o>%</span> <span class=p>(</span><span class=s1>&#39;&lt;db_host&gt;&#39;</span><span class=p>,</span> <span class=s1>&#39;5432&#39;</span><span class=p>,</span> <span class=s1>&#39;&lt;db_name&gt;&#39;</span><span class=p>,</span> <span class=s1>&#39;&lt;db_user&gt;&#39;</span><span class=p>,</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>     <span class=s1>&#39;&lt;db_password&gt;&#39;</span><span class=p>)</span>
</code></pre></div></li> <li>Em seguida, altere a linha 125 com o nome da tabela ou View do banco de dados que apresenta o conjunto de dados a ser alterado. No exemplo abaixo, os polígonos PRODES-Cerrado 2019 são atualizados com a média dos valores em cada polígono: <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=n>table_name</span> <span class=o>=</span> <span class=s1>&#39;prodes_2019&#39;</span>
</code></pre></div></li> <li>Por fim, altere as linhas 128 e 129 com a localização dos arquivos .TIF da superfície de susceptibilidade a desmatamentos pequenos e grandes respectivamente.</li> </ul> <p>Após as alterações, deve-se executar o script através do seguinte comando:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a>$ python run_zonal_suceptibilidade.py
</code></pre></div> <p>Por fim, atualize a coluna <code>sucept_desmat</code> que deverá armazenar o valor da coluna com maior susceptibilidade para aquele polígono.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=k>UPDATE</span><span class=w> </span><span class=n>prodes_2019</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>sucept_desmat</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>GREATEST</span><span class=p>(</span><span class=n>sucept_desmat_peq</span><span class=p>,</span><span class=w> </span><span class=n>sucept_desmat_grd</span><span class=p>)</span><span class=w> </span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=k>WHERE</span><span class=w> </span><span class=n>sucept_desmat_peq</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w> </span><span class=n>sucept_desmat_grd</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>;</span><span class=w></span>
</code></pre></div> <h2 id=calculo-da-metrica-de-qualificacao>Cálculo da métrica de qualificação<a class=headerlink href=#calculo-da-metrica-de-qualificacao title="Permanent link">&para;</a></h2> <p>Após a atualização de todas as etapas que compoẽm a qualificação dos polígonos PRODES-Cerrado, é necessário realizar a atualização de sua qualificação no banco de dados. Para tal, assim como detalhado na seção (inserir link), considera-se os seguintes critérios para a qualificação dos polígonos PRODES-Cerrado.</p> <table> <thead> <tr> <th align=center>Classe</th> <th align=center>Critério</th> <th align=center>SQL query</th> </tr> </thead> <tbody> <tr> <td align=center><strong>A</strong></td> <td align=center>São considerados polígonos classe 'A' aqueles cuja cobertura não foi classificada como 'Vegetação nativa'</td> <td align=center><em>UPDATE prodes_cerrado set classefip = 'A' FROM pontos_campo pt where pt.prodes_id=prodes_cerrado.gid and pt.cobertura != 'Vegetação nativa';</em></td> </tr> <tr> <td align=center><strong>B</strong></td> <td align=center>São considerados polígonos classe 'B' aqueles cuja validação amostral apontou 'desmatamento' como classe predominante e os métodos de análise automática devolveram mais de 50% de confiabilidade da existência de desmatamento.</td> <td align=center><em>UPDATE prodes_cerrado set classefip = 'B' from (SELECT p.bfm_pct as bfast, p.classefip as cfip, p.sucept_desmat as psuct, p.year as ano, v.prodes_id as idProdes, mode() WITHIN GROUP (ORDER BY v.aux_Desmat) AS modal_value FROM validacao_amostral v INNER JOIN prodes_cerrado p on p.gid = prodes_id where p.year &gt; 2015 and p.classefip is null group by 1,2,3,4,5) as sub WHERE sub.idProdes = prodes_cerrado.gid and sub.modal_value = 1 and (sub.bfast &gt;= 50 and sub.psuct &gt;= 0.5) and sub.cfip is null;</em></td> </tr> <tr> <td align=center><strong>C</strong></td> <td align=center>São coniderados polígonos classe 'C' aqueles que apenas os métodos automáticos poderam ser executados e algum dos métodos apresentou mais de 50% de confiabilidade para a existência do desmatamento.</td> <td align=center><em>UPDATE prodes_cerrado SET classefip = 'C' WHERE prodes_cerrado.year &gt; 2015 and (prodes_cerrado.bfm_pct &gt;= 50 OR prodes_cerrado.sucept_desmat &gt;= 0.5) and prodes_cerrado.classefip is null;</em></td> </tr> <tr> <td align=center><strong>D</strong></td> <td align=center>São considerados polígonos classe 'D' aqueles que apenas os métodos automáticos poderam ser executados e obtiveram a confiabilidade abaixo de 50% para a existência do desmatamento.</td> <td align=center><em>UPDATE prodes_cerrado SET classefip = 'D' WHERE prodes_cerrado.year &gt; 2015 and (prodes_cerrado.bfm_pct &lt; 50 or prodes_cerrado.sucept_desmat &lt; 0.5) and prodes_cerrado.classefip is null;</em></td> </tr> <tr> <td align=center><strong>E</strong></td> <td align=center>São considerados polígonos classe 'E' aqueles que foram visitados em campo porém foi apontada 'Vegetação Nativa' como principal cobertura do solo.</td> <td align=center><em>UPDATE prodes_cerrado set classefip = 'E' FROM pontos_campo pt where pt.prodes_id = prodes_cerrado.gid and pt.cobertura = 'Vegetação nativa';</em></td> </tr> </tbody> </table> <p>É importante ressaltar que devido aos parâmetros de treinamento dos algoritmos de análise automática, só é possível qualificar polígonos detectados após o ano de 2015.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Voltar ao topo </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Rodapé> <a href=../02-arq_execucao_dpat/ class="md-footer__link md-footer__link--prev" aria-label="Anterior: Deployment da arquitetura do Cerrado DPAT" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Anterior </span> Deployment da arquitetura do Cerrado DPAT </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 Araticum - Articulação pela Restauração do Cerrado </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.code.annotate", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.more.one": "Mais 1 nesta p\u00e1gina", "search.result.more.other": "Mais # nesta p\u00e1gina", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version.title": "Selecione a vers\u00e3o"}}</script> <script src=../assets/javascripts/bundle.6c7ad80a.min.js></script> </body> </html>